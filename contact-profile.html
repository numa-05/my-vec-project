<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Profile | ContactVault</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Public+Sans:wght@400;500;700;900" />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link rel="stylesheet" href="assets/styles.css" />
  <style>
    /* Responsive Edit button styles */
    #edit-btn {
      min-width: 100px;
      max-width: 240px;
      width: 100%;
      margin-bottom: 0.5rem;
      transition: background 0.2s, box-shadow 0.2s, transform 0.1s;
      box-shadow: 0 2px 8px #01986322;
    }
    @media (min-width: 640px) {
      #edit-btn {
        width: auto;
        min-width: 120px;
        margin-bottom: 0;
      }
    }
    #edit-btn:hover {
      background: linear-gradient(90deg, #34d399 0%, #019863 100%);
      color: #fff;
      transform: translateY(-2px) scale(1.04);
    }
  </style>
</head>
<body class="bg-[#f8fcfa] min-h-screen flex flex-col" style='font-family: "Public Sans", "Noto Sans", sans-serif;'>
  <!-- Doodle Background SVGs (different style: waves & zigzags) -->
  <div style="pointer-events:none; position:fixed; z-index:0; top:0; left:0; width:100vw; height:100vh; overflow:hidden;">
    <!-- Top Left Wavy Doodle -->
    <svg width="300" height="120" viewBox="0 0 300 120" fill="none" style="position:absolute;top:-30px;left:-60px;opacity:0.13;">
      <path d="M0 80 Q60 20 120 80 T240 80 T300 80" stroke="#0ea5e9" stroke-width="10" fill="none"/>
      <path d="M0 100 Q60 40 120 100 T240 100 T300 100" stroke="#a21caf" stroke-width="7" fill="none"/>
      <circle cx="65" cy="80" r="15" fill="#f59e42"/>
    </svg>
    <!-- Bottom Right Zigzag Doodle -->
    <svg width="260" height="120" viewBox="0 0 260 120" fill="none" style="position:absolute;bottom:-30px;right:-60px;opacity:0.14;">
      <polyline points="0,60 40,100 80,20 120,100 160,20 200,100 240,60" stroke="#16a34a" stroke-width="9" fill="none"/>
      <polyline points="0,90 30,70 60,110 90,50 120,110 150,30 180,110 210,60 240,90" stroke="#0e7490" stroke-width="6" fill="none"/>
      <circle cx="200" cy="80" r="13" fill="#f472b6"/>
    </svg>
    <!-- Center Doodle: squiggle -->
    <svg width="120" height="120" viewBox="0 0 120 120" fill="none" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0.10;">
      <path d="M10 60 Q30 20 60 60 Q90 100 110 60" stroke="#fbbf24" stroke-width="8" fill="none"/>
      <circle cx="60" cy="60" r="10" fill="#0ea5e9"/>
    </svg>
  </div>

  <!-- Navigation/Header -->
  <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e6f4ef] px-4 md:px-10 py-3">
    <div class="flex items-center gap-4 text-[#0c1c17]">
      <div class="size-4">
        <svg viewBox="0 0 48 48" fill="none">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M24 4H42V17.3333V30.6667H24V44H6V30.6667V17.3333H24V4Z" fill="currentColor"></path>
        </svg>
      </div>
      <h2 class="text-[#0c1c17] text-lg font-bold leading-tight tracking-[-0.015em]">ContactVault</h2>
    </div>
    <nav class="flex flex-1 justify-end gap-4 md:gap-8 items-center text-sm">
      <a class="text-[#0c1c17] font-medium hover:underline" href="dashboard.html">Dashboard</a>
      <a class="text-[#0c1c17] font-medium hover:underline" href="contacts.html">Contacts</a>
      <a class="text-[#0c1c17] font-medium hover:underline" href="add-contact.html">Add Contact</a>
      <a class="text-[#0c1c17] font-medium hover:underline" href="signup.html">Sign Up</a>
      <a class="text-[#019863] font-bold underline" href="contact-profile.html">Profile</a>
    </nav>
  </header>

  <main class="flex-1 flex flex-col items-center px-2 py-6 w-full overflow-x-hidden">
    <div class="w-full max-w-2xl bg-white rounded-xl shadow p-6 md:p-10 flex flex-col gap-5">
      <div class="flex flex-col md:flex-row items-center gap-6">
        <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full min-h-32 w-32"
          style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAUF1US5I-3RylfFfpqcFLblzTGkhpHewleTgeRK_0dcPkZzbeiV_DL8IkpZgdnjGDm-dmSif_4D4IqkDnYksc5u2jsS5klkT3XMOi7ULXFN8D9DMdAQ6bM_erDgPhdNORlch8-oJAwFhUcE9Tk9h35wlWmuTyTvlyl3TR3v_D8FDAAHMPdxWelwid2C25xWqlQn0NvkVq66mtgrqXw-4z4be_uVhC8H4U06bAPhajSHD-Df8G6CHV1apJWz-sO_e-XVfz4K4meWGRH");'>
        </div>
        <div class="flex flex-col items-center md:items-start w-full">
          <p id="profileNameTitle" class="text-[#0c1c17] text-[22px] font-bold leading-tight tracking-[-0.015em] text-center md:text-left">Aisha Numa</p>
          <p id="profileJobTitle" class="text-[#46a080] text-base font-normal leading-normal text-center md:text-left">Student at NMAMIT</p>
          <div class="flex flex-col sm:flex-row gap-3 mt-4 w-full max-w-xs md:max-w-none">
            <button
              id="edit-btn"
              onclick="toggleEdit(event)"
              class="flex flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#e6f4ef] text-[#0c1c17] text-sm font-bold leading-normal tracking-[0.015em]"
            >
              <span id="edit-btn-text" class="truncate">Edit</span>
            </button>
            <button
              onclick="logout()"
              class="flex flex-1 cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#e6f4ef] text-[#019863] text-sm font-bold leading-normal tracking-[0.015em] hover:bg-[#cde9df] transition"
            >
              <span class="truncate">Logout</span>
            </button>
          </div>
          <span id="logout-message" class="ml-4 text-green-600 font-medium"></span>
        </div>
      </div>
      <!-- Tabs -->
      <div class="flex border-b border-[#cde9df] gap-8 px-0 md:px-4">
        <button id="tab-profile" class="tab-btn flex flex-col items-center justify-center border-b-[3px] pb-[13px] pt-4 text-sm font-bold leading-normal tracking-[0.015em] border-b-[#019863] text-[#0c1c17] focus:outline-none" type="button">
          Profile
        </button>
        <button id="tab-notes" class="tab-btn flex flex-col items-center justify-center border-b-[3px] pb-[13px] pt-4 text-sm font-bold leading-normal tracking-[0.015em] border-b-transparent text-[#46a080] focus:outline-none" type="button">
          Notes
        </button>
      </div>
      <!-- Tab Contents -->
      <div id="tab-content-profile" class="tab-content">
        <form id="profile-form" onsubmit="event.preventDefault();toggleEdit(event);">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-[#0c1c17] font-medium mb-1">Name</label>
              <span id="name-view" class="block py-3 px-2 text-[#0c1c17] text-base">Aisha Numa</span>
              <input id="name-input" class="form-input w-full rounded-lg border-[#cde9df] bg-[#f8fcfa] h-12 px-4 text-base hidden" value="Aisha Numa" />
            </div>
            <div>
              <label class="block text-[#0c1c17] font-medium mb-1">Company</label>
              <span id="company-view" class="block py-3 px-2 text-[#0c1c17] text-base">NMAMIT</span>
              <input id="company-input" class="form-input w-full rounded-lg border-[#cde9df] bg-[#f8fcfa] h-12 px-4 text-base hidden" value="NMAMIT" />
            </div>
            <div>
              <label class="block text-[#0c1c17] font-medium mb-1">Job Title</label>
              <span id="job-view" class="block py-3 px-2 text-[#0c1c17] text-base">Student</span>
              <input id="job-input" class="form-input w-full rounded-lg border-[#cde9df] bg-[#f8fcfa] h-12 px-4 text-base hidden" value="Student" />
            </div>
            <div>
              <label class="block text-[#0c1c17] font-medium mb-1">Email</label>
              <span id="email-view" class="block py-3 px-2 text-[#0c1c17] text-base">nnm23ad043@nmamit.in</span>
              <input id="email-input" class="form-input w-full rounded-lg border-[#cde9df] bg-[#f8fcfa] h-12 px-4 text-base hidden" value="nnm23ad043@nmamit.in" />
            </div>
            <div>
              <label class="block text-[#0c1c17] font-medium mb-1">Phone</label>
              <span id="phone-view" class="block py-3 px-2 text-[#0c1c17] text-base">+91 1234567890</span>
              <input id="phone-input" class="form-input w-full rounded-lg border-[#cde9df] bg-[#f8fcfa] h-12 px-4 text-base hidden" value="+91 1234567890" />
            </div>
            <div>
              <label class="block text-[#0c1c17] font-medium mb-1">Address</label>
              <span id="address-view" class="block py-3 px-2 text-[#0c1c17] text-base">Karkala,Karnataka,India</span>
              <input id="address-input" class="form-input w-full rounded-lg border-[#cde9df] bg-[#f8fcfa] h-12 px-4 text-base hidden" value="Karkala,Karnataka,India" />
            </div>
          </div>
          <div class="flex flex-wrap gap-3 justify-between mt-4">
            <button type="button" class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-[#e6f4ef] text-[#0c1c17] text-sm font-bold leading-normal tracking-[0.015em]">
              <span class="truncate">Delete</span>
            </button>
          </div>
        </form>
      </div>
      <div id="tab-content-notes" class="tab-content hidden">
        <h2 class="text-[#0c1c17] text-[22px] font-bold leading-tight tracking-[-0.015em] pb-3">Notes</h2>
        <div>
          <label class="block text-[#0c1c17] font-medium mb-1">Notes</label>
          <textarea class="form-input w-full rounded-lg border-[#cde9df] bg-[#f8fcfa] min-h-[80px] px-4 text-base"></textarea>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Tabs
    function showTab(tab) {
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('border-b-[#019863]', 'text-[#0c1c17]');
        btn.classList.add('border-b-transparent', 'text-[#46a080]');
      });
      document.getElementById('tab-' + tab).classList.add('border-b-[#019863]', 'text-[#0c1c17]');
      document.getElementById('tab-' + tab).classList.remove('border-b-transparent', 'text-[#46a080]');
      document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
      document.getElementById('tab-content-' + tab).classList.remove('hidden');
    }
    document.getElementById('tab-profile').onclick = () => showTab('profile');
    document.getElementById('tab-notes').onclick = () => showTab('notes');
    showTab('profile');

    // Edit/Save toggle logic
    let isEditing = false;
    function toggleEdit(e) {
      e.preventDefault();
      isEditing = !isEditing;
      // Toggle all fields
      ['name','company','job','email','phone','address'].forEach(field => {
        document.getElementById(field+'-view').classList.toggle('hidden', isEditing);
        document.getElementById(field+'-input').classList.toggle('hidden', !isEditing);
      });
      // Change button text
      document.getElementById('edit-btn-text').textContent = isEditing ? 'Save' : 'Edit';

      // On Save, update the view values and the header
      if (!isEditing) {
        document.getElementById('name-view').textContent = document.getElementById('name-input').value;
        document.getElementById('company-view').textContent = document.getElementById('company-input').value;
        document.getElementById('job-view').textContent = document.getElementById('job-input').value;
        document.getElementById('email-view').textContent = document.getElementById('email-input').value;
        document.getElementById('phone-view').textContent = document.getElementById('phone-input').value;
        document.getElementById('address-view').textContent = document.getElementById('address-input').value;

        // Update profile header
        document.getElementById('profileNameTitle').textContent = document.getElementById('name-input').value;
        document.getElementById('profileJobTitle').textContent = document.getElementById('job-input').value + " at " + document.getElementById('company-input').value;
      }
    }

    function logout() {
      localStorage.removeItem('isLoggedIn');
      document.getElementById('logout-message').textContent = "You have been logged out.";
      setTimeout(function(){
        window.location.href = "login.html";
      }, 1200);
    }
  </script>
</body>
</html>
